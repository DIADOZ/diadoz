<div class="container">
    <div [hidden]="forReview">
        <h1>Post Form</h1>
        <form (ngSubmit)="onSubmit()" [formGroup]="postForm">
            <div class="form-group">
                <label for="headline">Headline</label>
                <input type="text" class="form-control" id="headline" formControlName="headline">
                <div [hidden]="headline.valid || headline.pristine"
                class="alert alert-danger">
                    Headline is required
                </div>
            </div>

            <div class="form-group">
                <label for="subHeadline">Sub-Headline</label>
                <input type="text" class="form-control" id="subHeadline" formControlName="subHeadline">
            </div>

            <div class="form-group">
                <label for="featuredImage">Featured Image</label>
                <input type="text" class="form-control" id="featuredImage" formControlName="featuredImage">
            </div>

            <div class="form-group">
                <label for="customURL">Custom URL</label>
                <input type="text" class="form-control" id="customURL" formControlName="customURL">
            </div>

            <div class="form-group">
                <label for="publishDate">Publish Date</label>
                <md2-datepicker type='datetime' name='publishDate' formControlName="publishDate"></md2-datepicker>
            </div>

            <div class="form-group">
                <div class="form-check">
                    <label class="form-check-label">
                        Published
                        <input type="checkbox" class="form-check-input" formControlName="published">
                    </label>
                </div>
            </div>
            

            <div class="form-group">
                <label for="publishedBy">Published By</label>
                <input type="text" class="form-control" id="publishedBy" formControlName="publishedBy">
            </div>

            <div class="form-group">
                <label for="postType">Post Type</label>
                <select class="form-control" id="postType" formControlName="postType" (ngModelChange)='toggleType($event)'>
                    <option *ngFor="let type of postTypes" [value]="type">{{type}}</option>
                </select>
            </div>

            <!-- GALLERY -->

            <div class="form-group" [hidden]="!showGallery">
                <label for="galleryTitle">Gallery Title</label>
                <input type="text" class="form-control" id="galleryTitle" name='galleryTitle'>
            </div>

            <div class="form-group form-inline" [hidden]="!showGallery">
                <div class="form-group">
                    <label for="curatedBy">Curated By</label>
                    <input type="text" class="form-control" id="curatedBy" name='curatedBy'>
                </div>
                <div class="form-group">
                    <label for="url">URL</label>
                    <input type="text" class="form-control" id="url" name='url'>
                </div>
            </div>

            <div class="form-group" [hidden]="!showGallery">
                <label for="summary">Summary</label>
                <textarea id='gallerySummary'></textarea>
            </div>

            <div class="form-group" [hidden]="!showGallery">
                <label for="endInfo">End Info</label>
                <textarea id='galleryEndInfo'></textarea>
            </div>

            <!-- Post Body -->

            <div class="form-group" >
                <label for="body">Post Body</label>
                <div class="list-group">
                    <div class="list-group-item" *ngFor="let entry of bodyArray; let i = index;">
                    {{ entry.class + " "  + entry.title + " " + entry.text}}
                    <form id="edit-container-{{i}}" novalidate [formGroup]="editForms">
                        <!-- media section -->
                        <div id='media-data-{{i}}' class='hide' formGroupName="editMedia">
                            <div class="form-group">
                                <label for="media-title-{{i}}">Title</label>
                                <input type="text" class="form-control" id="media-title-{{i}}" formControlName="title">
                            </div>
                            
                            <div class="form-group">
                                <label for="embed-{{i}}">Embed</label>
                                <input type="text" class="form-control" id="embed-{{i}}" formControlName="embed">
                            </div>
                            
                            <div class="form-group">
                                <label for="media-type-{{i}}">Embed Type</label>
                                <!-- add either a default value or placeholder text -->
                                <select class="form-control" id="media-type-{{i}}" formControlName="type">
                                    <option *ngFor="let type of mediaTypes" [value]="type">{{type}}</option>
                                </select>
                            </div>
            
                            <!-- list them vertically -->
                            <div class="form-group">
                                <label for="media-width-{{i}}">Width</label>
                                <mat-radio-group id='media-width-{{i}}' class='radio-form' formControlName="width">
                                    <mat-radio-button name="media-width-radio-{{i}}" value="fullWidth">Full-Width</mat-radio-button>
                                    <mat-radio-button name="media-width-radio-{{i}}" value="semiFullWidth">Semi-Full-Width</mat-radio-button>
                                    <mat-radio-button name="media-width-radio-{{i}}" value="halfWidth">Half-Width</mat-radio-button>
                                    <mat-radio-button name="media-width-radio-{{i}}" value="columnWidth">Column-Width</mat-radio-button>
                                    <mat-radio-button name="media-width-radio-{{i}}" value="halfColumnWidth">Half-Column-Width</mat-radio-button>
                                    <mat-radio-button name="media-width-radio-{{i}}" value="miniColumnWidth">Mini-Column-Width</mat-radio-button>
                                </mat-radio-group>
                            </div>
                            <div id='button-container-{{i}}' class="form-group">
                                <button type='button' type="button" class="btn btn-default" (click)="saveEntry(i, entry.class)">
                                        Save Media
                                </button>
                            </div>
                        </div>
            
                        <!-- art card section -->
                        <div id='art-card-data-{{i}}' class='hide' formGroupName="editArtCard">
                            <div class="form-group">
                                <label for="art-card-title-{{i}}">Title</label>
                                <input type="text" class="form-control" id="art-card-title-{{i}}" formControlName="title">
                            </div>
                            
                            <div class="form-group">
                                <label for="primary-contributor-{{i}}">Primary Contributor</label>
                                <input type="text" class="form-control" id="primary-contributor-{{i}}" formControlName="primaryContributor">
                            </div>
                            
                            <div class="form-group">
                                <label for="secondary-contributor-{{i}}">Secondary Contributor</label>
                                <input type="text" class="form-control" id="secondary-contributor-{{i}}" formControlName="secondaryContributor">
                            </div>
                            
                            <div class="form-group">
                                <label for="primary-type-{{i}}">Primary Type</label>
                                <input type="text" class="form-control" id="primary-type-{{i}}" formControlName="primaryType">
                            </div>
                            
                            <div class="form-group">
                                <label for="summary-{{i}}">Summary</label>
                                <input type="text" class="form-control" id="summary-{{i}}" formControlName="summary">
                            </div>
                            
                            <div class="form-group">
                                <label for="support-{{i}}">Support</label>
                                <input type="text" class="form-control" id="support-{{i}}" formControlName="support">
                            </div>
                            
                            <div class="form-group">
                                <label for="sources">Sources</label>
                                <div class="list-group-item" *ngFor="let entry of sourcesArray; let i = index;">
                                    <div class="form-group" id="source-entry-{{i}}">
                                        {{ entry }}
                                        <div id="button-group-{{i}}" class="btn-group" role="group" aria-label="...">
                                            <button name="editButton" type="button" class="btn btn-default" (click)='editSource(i, entry)'>Edit</button>
                                            <button type="button" class="btn btn-default" (click)='deleteSource(i)'>Delete</button>
                                        </div>
                                    </div>
                                    <div class="form-group hide" id="source-input-{{i}}">
                                        <input type="text" class="form-control" id="sources" [(ngModel)]="source" [ngModelOptions]="{standalone: true}">
                                        <button type='button' type="button" class="btn btn-default" (click)="saveSource(i)">
                                            Save Source
                                        </button>
                                    </div>
                                </div>
                                <input type="text" class="form-control" id="sources" [(ngModel)]="source" [ngModelOptions]="{standalone: true}">
                                <button type='button' type="button" class="btn btn-default" (click)="addSource()">
                                    Add Source
                                </button>
                            </div>
                            
                            <div class="form-group">
                                <label for="contributing-artists-{{i}}">Contributing Artists</label>
                                <div class="list-group-item" *ngFor="let entry of artistArray; let i = index;">
                                    <div class="form-group" id="artist-entry-{{i}}">
                                        {{ entry }}
                                        <div id="button-group-{{i}}" class="btn-group" role="group" aria-label="...">
                                            <button name="editButton" type="button" class="btn btn-default" (click)='editArtist(i, entry)'>Edit</button>
                                            <button type="button" class="btn btn-default" (click)='deleteArtist(i)'>Delete</button>
                                        </div>
                                    </div>
                                    <div class="form-group hide" id="artist-input-{{i}}">
                                        <input type="text" class="form-control" id="artist" [(ngModel)]="artist" [ngModelOptions]="{standalone: true}">
                                        <button type='button' type="button" class="btn btn-default" (click)="saveArtist(i)">
                                            Save Artist
                                        </button>
                                    </div>
                                </div>
                                <input type="text" class="form-control" id="contributing-artists-{{i}}" [(ngModel)]="artist" [ngModelOptions]="{standalone: true}">
                                <button type='button' type="button" class="btn btn-default" (click)="addArtist(i)">
                                    Add Artist
                                </button>
                            </div>
                            
                            <div class="form-group">
                                <button type='button' type="button" class="btn btn-default" (click)="saveEntry(i, entry.class)">
                                    Save Art Card
                                </button>
                            </div>
                        </div>
            
                        <!-- text section -->
                        <div id='body-data-{{i}}' class='hide'>
                            {{bodyText}}
                            <div class="form-group">
                                <textarea id='article-text-{{i}}'></textarea>
                            </div>
                            <div class="form-group">
                                <button type='button' type="button" class="btn btn-default" (click)="saveEntry(i, entry.class)">
                                    Save Text
                                </button>
                            </div>
                        </div>
                    </form>
                    <div id="button-group-{{i}}" class="btn-group" role="group" aria-label="...">
                        <button name="editButton" type="button" class="btn btn-default" (click)='editEntry(i, entry)'>Edit</button>
                        <button type="button" class="btn btn-default" (click)='deleteEntry(i)'>Delete</button>
                    </div>
                </div>
            </div>

                <div [hidden]="showGallery">
                    <button type='button' type="button" class="btn btn-default" (click)="toggleMedia()">
                        Create Media
                    </button>
                    <button type='button' type="button" class="btn btn-default" (click)="toggleArtCard()">
                        Create Art Card
                    </button>
                    <button type='button' type="button" class="btn btn-default" (click)="toggleText()">
                        Create Body
                    </button>
                </div>

                <div [hidden]="!showGallery">
                    <button type='button' type="button" class="btn btn-default" (click)="toggleMedia()">
                        Create Media
                    </button>
                </div>

                
            </div>
            
            <!-- media section -->
            <div id='mediaData' class='hide' [formGroup]="mediaForm">
                <div class="form-group">
                    <label for="mediaTitle">Title</label>
                    <input type="text" class="form-control" id="mediaTitle" formControlName="title">
                </div>
                
                <div class="form-group">
                    <label for="embed">Embed</label>
                    <input type="text" class="form-control" id="embed" formControlName="embed">
                </div>
                
                <div class="form-group">
                    <label for="mediaType">Embed Type</label>
                    <!-- add either a default value or placeholder text -->
                    <select class="form-control" id="mediaType" formControlName="type">
                        <option *ngFor="let type of mediaTypes" [value]="type">{{type}}</option>
                    </select>
                </div>

                <!-- list them vertically -->
                <div class="form-group">
                    <label for="width">Width</label>
                    <mat-radio-group id='mediaWidth' class='radio-form' formControlName="width">
                        <mat-radio-button name="media-width-radio" value="fullWidth">Full-Width</mat-radio-button>
                        <mat-radio-button name="media-width-radio" value="semiFullWidth">Semi-Full-Width</mat-radio-button>
                        <mat-radio-button name="media-width-radio" value="halfWidth">Half-Width</mat-radio-button>
                        <mat-radio-button name="media-width-radio" value="columnWidth">Column-Width</mat-radio-button>
                        <mat-radio-button name="media-width-radio" value="halfColumnWidth">Half-Column-Width</mat-radio-button>
                        <mat-radio-button name="media-width-radio" value="miniColumnWidth">Mini-Column-Width</mat-radio-button>
                    </mat-radio-group>
                </div>
                <div id='buttonContainer' class="form-group">
                    <button type='button' type="button" class="btn btn-default" (click)="addMedia()">
                            Add Media
                    </button>
                </div>
            </div>

            <!-- art card section -->
            <div id='artCardData' class='hide' [formGroup]="artCardForm">
                <div class="form-group">
                    <label for="artCardTitle">Title</label>
                    <input type="text" class="form-control" id="artCardTitle" formControlName="title">
                </div>
                
                <div class="form-group">
                    <label for="primaryContributor">Primary Contributor</label>
                    <input type="text" class="form-control" id="primaryContributor" formControlName="primaryContributor">
                </div>
                
                <div class="form-group">
                    <label for="secondaryContributor">Secondary Contributor</label>
                    <input type="text" class="form-control" id="secondaryContributor" formControlName="secondaryContributor">
                </div>
                
                <div class="form-group">
                    <label for="primaryType">Primary Type</label>
                    <input type="text" class="form-control" id="primaryType" formControlName="primaryType">
                </div>
                
                <div class="form-group">
                    <label for="summary">Summary</label>
                    <input type="text" class="form-control" id="summary" formControlName="summary">
                </div>
                
                <div class="form-group">
                    <label for="support">Support</label>
                    <input type="text" class="form-control" id="support" formControlName="support">
                </div>
                
                <!-- editable source list -->
                
                <div class="form-group">
                    <label for="sources">Sources</label>
                    <div class="list-group-item" *ngFor="let entry of sourcesArray; let i = index;">
                        <div class="form-group" id="source-entry-{{i}}">
                            {{ entry }}
                            <div id="button-group-{{i}}" class="btn-group" role="group" aria-label="...">
                                <button name="editButton" type="button" class="btn btn-default" (click)='editSource(i, entry)'>Edit</button>
                                <button type="button" class="btn btn-default" (click)='deleteSource(i)'>Delete</button>
                            </div>
                        </div>
                        <div class="form-group hide" id="source-input-{{i}}">
                            <input type="text" class="form-control" id="sources" [(ngModel)]="source" [ngModelOptions]="{standalone: true}">
                            <button type='button' type="button" class="btn btn-default" (click)="saveSource(i)">
                                Save Source
                            </button>
                        </div>
                    </div>
                    <input type="text" class="form-control" id="sources" [(ngModel)]="source" [ngModelOptions]="{standalone: true}">
                    <button type='button' type="button" class="btn btn-default" (click)="addSource()">
                        Add Source
                    </button>
                </div>
                
                <!-- editable artist list -->
                
                <div class="form-group">
                    <label for="contributingArtists">Contributing Artists</label>
                    <div class="list-group-item" *ngFor="let entry of artistArray; let i = index;">
                        <div class="form-group" id="artist-entry-{{i}}">
                            {{ entry }}
                            <div id="button-group-{{i}}" class="btn-group" role="group" aria-label="...">
                                <button name="editButton" type="button" class="btn btn-default" (click)='editArtist(i, entry)'>Edit</button>
                                <button type="button" class="btn btn-default" (click)='deleteArtist(i)'>Delete</button>
                            </div>
                        </div>
                        <div class="form-group hide" id="artist-input-{{i}}">
                            <input type="text" class="form-control" id="artist" [(ngModel)]="artist" [ngModelOptions]="{standalone: true}">
                            <button type='button' type="button" class="btn btn-default" (click)="saveArtist(i)">
                                Save Artist
                            </button>
                        </div>
                    </div>
                    <input type="text" class="form-control" id="contributingArtists" [(ngModel)]="artist" [ngModelOptions]="{standalone: true}">
                    <button type='button' type="button" class="btn btn-default" (click)="addArtist()">
                        Add Artist
                    </button>
                </div>
                
                <div class="form-group">
                    <button type='button' type="button" class="btn btn-default" (click)="addArtCard()">
                        Add Art Card
                    </button>
                </div>
            </div>

            <!-- text section -->
            <div id='bodyData' class='hide'>
                {{bodyText}}
                <div class="form-group">
                    <textarea id='articleText'></textarea>
                </div>
                <div class="form-group">
                    <button type='button' type="button" class="btn btn-default" (click)="addText()">
                        Add Text
                    </button>
                </div>
            </div>
            
            
            <div class="form-group">
                <button type="button" class="btn btn-default" (click)="postForm.reset()">Reset</button>
                <button type="button" class="btn btn-success" [disabled]="!postForm.valid" (click)="onReview()">Review</button>
            </div>
            
        
        </form>
    </div>
    <div [hidden]="!forReview">
        <h2>Review the following before submittion:</h2>
        <div class="row">
            <div class="col-xs-3">Headline</div>
            <div class="col-xs-9  pull-left">{{ postForm.get('headline').value }}</div>
        </div>
        <div class="row">
            <div class="col-xs-3">Sub-Headline</div>
            <div class="col-xs-9 pull-left">{{ postForm.get('subHeadline').value }}</div>
        </div>
        <div class="row">
            <div class="col-xs-3">Post Type</div>
            <div class="col-xs-9 pull-left">{{ postForm.get('postType').value }}</div>
        </div>
        <div class="row">
            <div class="col-xs-3">Featured Image</div>
            <div class="col-xs-9 pull-left">{{ postForm.get('featuredImage').value }}</div>
        </div>
        <div class="row">
            <div class="col-xs-3">Custom URL</div>
            <div class="col-xs-9 pull-left">/post/{{ postForm.get('customURL').value }}</div>
        </div>
        <div class="row">
            <div class="col-xs-3">Publish Date</div>
            <div class="col-xs-9 pull-left">{{ postForm.get('publishDate').value }}</div>
        </div>
        <div class="row">
            <div class="col-xs-3">Published</div>
            <div class="col-xs-9 pull-left">{{ postForm.get('published').value }}</div>
        </div>
        <div class="row">
            <div class="col-xs-3">Published By</div>
            <div class="col-xs-9 pull-left">{{ postForm.get('publishedBy').value }}</div>
        </div>
        <!-- <div class="row">
            <div class="col-xs-3">Body</div>
            <li class="col-xs-9 pull-left" *ngFor='let row of model.body'>{{ row }}</li>
        </div> -->
        <br>
        <button class="btn btn-primary" (click)="onEdit()">Edit</button>
        <button class="btn btn-primary" (click)="onSubmit()">Submit</button>
    </div>
</div>